(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[1],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c,a=n(16),s=n(1),r=n.n(s),i=n(0),o=r.a.createContext({token:"",isLoggedIn:!1,login:function(e){},logout:function(){},changePassword:function(e){}}),l=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},j=function(e){var t,n=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expirationTime"),n=l(t);return n<=6e4?(localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),null):{token:e,duration:n}}();n&&(t=n.token);var r=Object(s.useState)(t),j=Object(a.a)(r,2),u=j[0],b=j[1],d=!!u,x=Object(s.useCallback)((function(){b(null),localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),c&&clearTimeout(c)}),[]);Object(s.useEffect)((function(){n&&(console.log(n),c=setTimeout(x,n.duration))}),[n,x]);var O={token:u,isLoggedIn:d,login:function(e,t){b(e),localStorage.setItem("token",e),localStorage.setItem("expirationTime",t);var n=l(t);c=setTimeout(x,n)},logout:x,changePassword:function(e){b(e),localStorage.setItem("token",e)}};return Object(i.jsxs)(o.Provider,{value:O,children:[" ",e.children," "]})};t.b=o},18:function(e,t,n){e.exports={main:"Layout_main__3_Tnu"}},21:function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__228SD"}},26:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(17),a=n.n(c),s=n(7),r=(n(26),n(1)),i=n.n(r),o=n(2),l=n(18),j=n.n(l),u=n(9),b=n.n(u),d=n(11),x=n(0),O=function(){var e=Object(r.useContext)(d.b),t=e.isLoggedIn;return Object(x.jsxs)("header",{className:b.a.header,children:[Object(x.jsx)("div",{className:b.a.logo,children:Object(x.jsx)(s.c,{to:"/quotes",activeClassName:b.a.active,children:Object(x.jsx)("img",{src:window.location.origin+"/logo.png",alt:"logo"})})}),Object(x.jsx)("div",{className:b.a.nav,children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"/quotes",activeClassName:b.a.active,children:" All Quotes"})}),Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"/quotes/new",activeClassName:b.a.active,children:" Add a Quote"})}),Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"/quotes/generate",activeClassName:b.a.active,children:" Generate Quote"})}),!t&&Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"/auth",activeClassName:b.a.active,children:"Login"})}),t&&Object(x.jsx)("li",{children:Object(x.jsx)(s.c,{to:"/profile",activeClassName:b.a.active,children:"Profile"})}),t&&Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"/#",onClick:function(){e.logout()},children:" Logout "})})]})})]})},h=function(e){var t=e.children;return Object(x.jsxs)("div",{children:[Object(x.jsx)(O,{}),Object(x.jsxs)("main",{className:j.a.main,children:[" ",t," "]})]})},m=n(8);var f=function(){var e=i.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,59))})),t=i.a.lazy((function(){return n.e(9).then(n.bind(null,56))})),c=i.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,57))})),a=i.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,58))})),s=i.a.lazy((function(){return n.e(8).then(n.bind(null,61))})),l=i.a.lazy((function(){return n.e(7).then(n.bind(null,60))})),j=Object(r.useContext)(d.b).isLoggedIn;return Object(x.jsx)(h,{children:Object(x.jsxs)(o.e,{children:[Object(x.jsx)(o.c,{path:"/",exact:!0,children:Object(x.jsx)(o.b,{to:"/quotes"})}),Object(x.jsx)(o.c,{path:"/auth",render:function(){return Object(x.jsxs)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:[!j&&Object(x.jsx)(s,{}),j&&Object(x.jsx)(o.b,{to:"/quotes"})]})}}),Object(x.jsx)(o.c,{path:"/profile",render:function(){return Object(x.jsxs)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:[j&&Object(x.jsx)(l,{}),!j&&Object(x.jsx)(o.b,{to:"/auth"})]})}}),Object(x.jsx)(o.c,{path:"/quotes",exact:!0,render:function(){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:Object(x.jsx)(a,{isMain:!0})})}}),Object(x.jsx)(o.c,{path:"/quotes/new",render:function(){return Object(x.jsxs)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:[j&&Object(x.jsx)(e,{}),!j&&Object(x.jsx)(o.b,{to:"/auth"})]})}}),Object(x.jsx)(o.c,{path:"/quotes/generate",render:function(){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:Object(x.jsx)(c,{})})}}),Object(x.jsx)(o.c,{path:"/quotes/author/:authorName",render:function(){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:Object(x.jsx)(a,{})})}}),Object(x.jsx)(o.c,{path:"/quotes/genre/:genre",render:function(){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:Object(x.jsx)(a,{})})}}),Object(x.jsx)(o.c,{path:"/quotes/:quoteId",render:function(){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:Object(x.jsx)(c,{})})}}),Object(x.jsx)(o.c,{path:"*",render:function(){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:Object(x.jsx)(t,{})})}})]})})};a.a.render(Object(x.jsxs)(d.a,{children:[" ",Object(x.jsxs)(s.a,{children:[" ",Object(x.jsx)(f,{})," "]})," "]}),document.getElementById("root"))},8:function(e,t,n){"use strict";var c=n(21),a=n.n(c),s=n(0);t.a=function(){return Object(s.jsx)("div",{className:a.a.spinner})}},9:function(e,t,n){e.exports={header:"MainNavigation_header__1AneB",logo:"MainNavigation_logo__32qFk",nav:"MainNavigation_nav__t0eOh",active:"MainNavigation_active__3t4Ys"}}},[[36,2,3]]]);
//# sourceMappingURL=main.13bfec7f.chunk.js.map